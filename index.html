<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Space Traffic Management</title>
    <!-- Import Map: Stub out frame-ticker so that three-globe's import is satisfied -->
    <script type="importmap">
      {
        "imports": {
          "frame-ticker": "data:text/javascript,export default {start:()=>{}, stop:()=>{}};"
        }
      }
    </script>
    <!-- (Other import maps or scripts can follow here) -->
    <style>
      /* ---------- Global & Reset Styles ---------- */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: Arial, sans-serif;
        background-color: #000;
        color: #333;
        line-height: 1.6;
      }
      a {
        color: inherit;
        text-decoration: none;
      }
      /* ---------- Hero Section with Starfield ---------- */
      .hero {
        position: relative;
        height: 100vh;
        overflow: hidden;
      }
      #starfield {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
      }
      .hero-content {
        position: relative;
        z-index: 2;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 0 1rem;
      }
      .hero-content h1 {
        font-size: 3rem;
        margin-bottom: 0.5rem;
        text-shadow: 0 2px 5px rgba(0, 0, 0, 0.7);
        color: #fff;
      }
      .hero-content p {
        font-size: 1.5rem;
        text-shadow: 0 2px 5px rgba(0, 0, 0, 0.7);
        color: #ddd;
      }
      /* ---------- Dashboard Section ---------- */
      .dashboard {
        background-color: #fff;
        color: #333;
        margin: 2rem auto;
        padding: 1rem;
        max-width: 1200px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .dashboard-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 2px solid #000;
        padding-bottom: 0.5rem;
        margin-bottom: 1rem;
      }
      .dashboard-header .logo {
        font-size: 1.5rem;
        font-weight: bold;
      }
      .dashboard-header .nav-links a {
        margin-left: 1rem;
        font-weight: bold;
        color: #000;
      }
      .dashboard-content {
        display: flex;
        flex-wrap: wrap;
      }
      .satellites-list {
        flex: 1;
        min-width: 300px;
        margin-right: 1rem;
      }
      .satellites-list .satellite {
        border-bottom: 1px solid #ccc;
        padding: 0.5rem 0;
      }
      .satellites-list .satellite h3 {
        margin-bottom: 0.25rem;
      }
      .satellites-list .alerts {
        margin-top: 1rem;
        padding-top: 0.5rem;
        border-top: 2px solid #000;
      }
      .satellites-list .alerts p {
        margin: 0.5rem 0;
      }
      .satellites-list .alerts button {
        margin-left: 0.5rem;
        padding: 0.25rem 0.5rem;
        background-color: #000;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
      .satellites-list .buttons {
        margin-top: 1rem;
      }
      .satellites-list .buttons button {
        padding: 0.5rem 1rem;
        background-color: #000;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin-right: 0.5rem;
      }
      .globe-container {
        flex: 2;
        min-width: 300px;
        height: 500px;
        position: relative;
      }
      #globeViz {
        width: 100%;
        height: 100%;
      }
      /* ---------- Main Content (Capabilities & Contact) ---------- */
      .container {
        max-width: 800px;
        margin: 2rem auto;
        padding: 2rem;
        background-color: #fff;
        color: #333;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      section {
        margin-bottom: 2rem;
      }
      h2 {
        margin-bottom: 1rem;
        padding-bottom: 0.25rem;
        border-bottom: 2px solid #000;
      }
      .capabilities ul {
        list-style-type: disc;
        margin-left: 1.5rem;
      }
      /* ---------- Contact Form Styles ---------- */
      .contact-form label {
        display: block;
        margin: 0.5rem 0 0.25rem;
      }
      .contact-form input,
      .contact-form textarea {
        width: 100%;
        padding: 0.5rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        margin-bottom: 1rem;
      }
      .contact-form button {
        padding: 0.75rem 1.5rem;
        background-color: #000;
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
      }
      .contact-form button:hover {
        background-color: #333;
      }
      /* ---------- Footer ---------- */
      footer {
        text-align: center;
        padding: 1rem;
        font-size: 0.9rem;
        color: #666;
        background-color: #fff;
      }
      /* ---------- Responsive Tweaks ---------- */
      @media (max-width: 768px) {
        .dashboard-content {
          flex-direction: column;
        }
        .satellites-list {
          margin-right: 0;
          margin-bottom: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- ---------- Hero Section with Animated Starfield ---------- -->
    <div class="hero">
      <canvas id="starfield"></canvas>
      <div class="hero-content">
        <h1>Space Traffic Management</h1>
        <p>Ensuring safe and efficient management of space traffic.</p>
      </div>
    </div>

    <!-- ---------- Dashboard Section (Interactive Data & Globe) ---------- -->
    <div class="dashboard">
      <div class="dashboard-header">
        <div class="logo">Logo</div>
        <div class="nav-links">
          <a href="#">My Satellites</a>
          <a href="#">Notifications (3)</a>
        </div>
      </div>
      <div class="dashboard-content">
        <!-- Satellite Data & Alerts -->
        <div class="satellites-list">
          <div class="satellite">
            <h3>Satellite 1</h3>
            <p>Altitude: 550 km</p>
            <p>Collision Risk: MEDIUM</p>
          </div>
          <div class="satellite">
            <h3>Satellite 2</h3>
            <p>Altitude: 560 km</p>
            <p>Collision Risk: HIGH (1 potential event)</p>
          </div>
          <div class="satellite">
            <h3>Satellite 3</h3>
            <p>Altitude: 600 km</p>
            <p>Collision Risk: LOW</p>
          </div>
          <div class="alerts">
            <h3>Alerts / Notifications:</h3>
            <p>
              Collision predicted with Debris #12345
              <button>View</button>
            </p>
            <p>
              Collision predicted with Sat #999
              <button>View</button>
            </p>
            <div class="buttons">
              <button>View All Satellites</button>
              <button>View Map</button>
            </div>
          </div>
        </div>
        <!-- Interactive Globe -->
        <div class="globe-container">
          <div id="globeViz"></div>
        </div>
      </div>
    </div>

    <!-- ---------- Main Content: Capabilities & Contact Form ---------- -->
    <div class="container">
      <!-- Capabilities Section -->
      <section class="capabilities">
        <h2>Our Capabilities</h2>
        <p>
          We provide cutting-edge solutions for space traffic management,
          including:
        </p>
        <ul>
          <li>Real-time satellite tracking</li>
          <li>Debris monitoring and collision avoidance</li>
          <li>Orbit prediction and analysis</li>
          <li>Automated alert systems</li>
          <li>Regulatory compliance support</li>
        </ul>
      </section>

      <!-- Contact Form Section -->
      <section class="contact">
        <h2>Contact Us</h2>
        <form class="contact-form" action="#" method="post">
          <label for="name">Name</label>
          <input type="text" id="name" name="name" required />

          <label for="email">Email</label>
          <input type="email" id="email" name="email" required />

          <label for="message">Message</label>
          <textarea id="message" name="message" rows="5" required></textarea>

          <button type="submit">Send Message</button>
        </form>
      </section>
    </div>

    <!-- ---------- Footer ---------- -->
    <footer>
      &copy; 2025 Space Traffic Management. All Rights Reserved.
    </footer>

    <!-- ---------- Starfield Animation Script ---------- -->
    <script>
      (function () {
        const canvas = document.getElementById("starfield");
        const ctx = canvas.getContext("2d");
        let width = (canvas.width = window.innerWidth);
        let height = (canvas.height = window.innerHeight);
        const stars = [];
        const numStars = 300;
        for (let i = 0; i < numStars; i++) {
          stars.push({
            x: Math.random() * width,
            y: Math.random() * height,
            size: Math.random() * 1.5,
            speed: Math.random() * 0.5 + 0.2,
          });
        }
        function animate() {
          ctx.clearRect(0, 0, width, height);
          ctx.fillStyle = "rgba(255, 255, 255, 0.8)";
          stars.forEach((star) => {
            star.y += star.speed;
            if (star.y > height) {
              star.y = 0;
              star.x = Math.random() * width;
            }
            ctx.beginPath();
            ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
            ctx.fill();
          });
          requestAnimationFrame(animate);
        }
        animate();
        window.addEventListener("resize", () => {
          width = canvas.width = window.innerWidth;
          height = canvas.height = window.innerHeight;
        });
      })();
    </script>

    <!-- ---------- Interactive Globe Script using ES Modules and TWEEN ---------- -->
    <script type="module">
      import * as THREE from "https://unpkg.com/three@0.150.0/build/three.module.js";
      import { OrbitControls } from "https://unpkg.com/three@0.150.0/examples/jsm/controls/OrbitControls.js";
      import ThreeGlobe from "https://unpkg.com/three-globe?module";
      import TWEEN from "https://unpkg.com/@tweenjs/tween.js@18.6.4/dist/tween.esm.js";

      // Sample satellite markers with dummy lat/lng values
      const satelliteMarkers = [
        { lat: 20, lng: 30, altitude: 0.01, name: "Satellite 1" },
        { lat: 40, lng: -10, altitude: 0.01, name: "Satellite 2" },
        { lat: -30, lng: 120, altitude: 0.01, name: "Satellite 3" },
      ];

      // Create the globe using ThreeGlobe
      const GlobeObj = new ThreeGlobe()
        .globeImageUrl("https://unpkg.com/three-globe/example/img/earth-dark.jpg")
        .pointsData(satelliteMarkers)
        .pointLat("lat")
        .pointLng("lng")
        .pointAltitude("altitude")
        .pointColor(() => "red")
        .pointRadius(0.5);

      const globeContainer = document.getElementById("globeViz");
      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(
        globeContainer.offsetWidth,
        globeContainer.offsetHeight
      );
      globeContainer.appendChild(renderer.domElement);

      const scene = new THREE.Scene();

      // Add lighting so the globe is properly illuminated
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
      scene.add(ambientLight);
      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
      directionalLight.position.set(50, 50, 50);
      scene.add(directionalLight);

      scene.add(GlobeObj);

      const camera = new THREE.PerspectiveCamera(
        75,
        globeContainer.offsetWidth / globeContainer.offsetHeight,
        0.1,
        1000
      );
      camera.position.z = 200;

      const controls = new OrbitControls(camera, renderer.domElement);
      controls.enableZoom = true;

      function animateGlobe() {
        requestAnimationFrame(animateGlobe);
        // Update TWEEN for smooth animations
        TWEEN.update();
        // Optional: slowly rotate the globe for a dynamic effect
        GlobeObj.rotation.y += 0.001;
        controls.update();
        renderer.render(scene, camera);
      }
      animateGlobe();

      window.addEventListener("resize", () => {
        const width = globeContainer.offsetWidth;
        const height = globeContainer.offsetHeight;
        renderer.setSize(width, height);
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
      });
    </script>
  </body>
</html>
